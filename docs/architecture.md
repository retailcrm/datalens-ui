# Architecture

Этот документ — входная точка по архитектуре `datalens-ui` в форке.

Цель: собрать верхнеуровневую картину системы без деталей реализации.

## Что читать дальше

1. `docs/domain-entities.md`  
   Основные бизнес-сущности и их связи.
2. `docs/page-topology.md`  
   Карта страниц/роутов и основные пользовательские переходы.
3. `docs/architecture-intent.md`  
   Какой архитектурный замысел читается в кодовой базе и где произошел дрейф.
4. `docs/data-flows.md`  
   Сквозные потоки: как в системе проходит путь от URL и navigation до чтения/изменения данных.
5. `docs/adr/index.md`  
   Журнал принятых архитектурных решений для форка.
6. `docs/stabilization-strategy.md`  
   Операционная стратегия снижения регрессий при синке с upstream.
7. `docs/api.md`  
   Карта API проекта: слои, namespace-методы и форматы ответов.

## Границы системы (в текущей кодовой базе)

1. `src/ui`  
   Основной SPA слой: страницы, роутинг, визуальные модули, клиентский state.
2. `src/server`  
   BFF/edge слой: проксирование API, контроллеры, режимы запуска, серверная оркестрация.
3. `src/shared`  
   Общие типы, константы, схемы и модули, которые должны формировать контракт между UI и server.

## Текущий уровень описания

Этот набор документов фиксирует:

1. доменную модель продукта;
2. карту пользовательских экранов;
3. архитектурный intent и зоны рассинхрона.
4. сквозные потоки данных и навигации;
5. ключевые решения (ADR), которые важно держать стабильными при синке с upstream.
6. правила стабилизации форка и приоритезации патчей.

Не фиксирует:

1. детали конкретных React-компонентов;
2. low-level внутренности reducer/action;
3. полный реестр всех API-методов.

## Как поддерживать актуальность

Обновлять эти документы после изменений, которые затрагивают:

1. доменные сущности;
2. роуты верхнего уровня;
3. принципиальные архитектурные решения.
