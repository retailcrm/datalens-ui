# ADR-0003: Navigation Link Normalization Before Rendering

## Status

Accepted

## Context

Часть ссылок формируется как абсолютные URL, часть как относительные пути. Без нормализации перед рендером в `href`/`Button` появляются риски:

1. невалидные внутренние переходы;
2. смешение SPA и full-page переходов;
3. некорректные `_blank` ссылки на внутренние ресурсы.

## Decision

Перед передачей URL в UI-компонент:

1. нормализовать внутренние ссылки к router-совместимому виду (`pathname/search/hash`);
2. открывать в новой вкладке только when link is external resource;
3. если по коду нельзя надежно определить internal/external, оставлять решение о нормализации за человеком.

## Consequences

1. плюсы: меньше навигационных багов и предсказуемое поведение ссылок/кнопок;
2. минусы: требуется явная проверка границы internal vs external;
3. правило для форка: при неочевидном кейсе не "угадывать" эвристикой, а фиксировать manual decision.
